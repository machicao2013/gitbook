redis的持久化机制
========

redis现在使用了两种持久化的机制，一种叫做rdb，一种叫做aof。本章主要介绍这两种机制，分析这两种机制的实现，然后对这两种机制做对比。

在redis运行时，rdb程序将当前内存中的数据库快照保存到磁盘文件中，在redis重启时，rdb程序可以通过载入rdb文件来还原数据库的状态。主要涉及的函数有rdbSave和rdbLoad两个函数。

aof以协议文本的方式，将所有数据库进行过的写入命令(及其参数)记录到aof文件，依次达到记录数据库状态的目的。

在rdb文件和aof文件同时存在的情况下,redis会优先使用aof文件恢复数据。
